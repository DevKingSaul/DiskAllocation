#include "main.cpp"
void testCorrupt(const char *filename) {
  FILE *fp;

  fp = fopen (filename, "r+b");
  fseek(fp, 8, SEEK_SET);

  fwrite (nullPtr, 1, 8, fp);
   
  fclose(fp);
}

unsigned char dummyData3[20] = {0x00, 0x21, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x21};
unsigned char dummyData[20] = {0x0e, 0xee, 0x8d, 0xfc, 0x9c, 0x69, 0x62, 0x2d, 0x51, 0x2d, 0x6f, 0x2f, 0x3e, 0xb1, 0x13, 0x22, 0x36, 0x09, 0x54, 0x3d};
unsigned char dummyData2[32] = {0x3b, 0x2c, 0x54, 0xba, 0xcf, 0xed, 0xd4, 0xf8, 0xac, 0x55, 0x7d, 0xb3, 0x38, 0x25, 0x03, 0xd0, 0xec, 0xe7, 0xf4, 0x4f, 0x5e, 0xbb, 0xcc, 0xef, 0x30, 0x8a, 0x8f, 0x3f, 0x28, 0xaa, 0xcb, 0x22};

int main () {
  init("./mainDB");
  uint64_t ptr = alloc("./mainDB", 30);
  uint64_t ptr2 = alloc("./mainDB", 32);
  uint64_t ptr3 = alloc("./mainDB", 21);
  uint64_t ptr4 = alloc("./mainDB", 25000);
  dWrite("./mainDB", ptr3, dummyData3, 21);
  dWrite("./mainDB", ptr4, dummyData3, 21);
  dWrite("./mainDB", ptr, dummyData, 20);
  dWrite("./mainDB", ptr2, dummyData2, 32);

  free("./mainDB", ptr);
  free("./mainDB", ptr3);
  free("./mainDB", ptr4);
  free("./mainDB", ptr2);

  return 0;
}
